<!DOCTYPE html>
<html lang="pt-br">

<head>

	<meta charset="UTF-8">
	<title> Calculadora de Boteco </title>
	<link rel="stylesheet" href="css/format.css">

</head>

<body>

	

<table>
	<tr>
		<td><input type="number" id="valorDaConta" placeholder="R$ 00,00" required></td>
	</tr>

	<tr>
		<td><input type="number" id="quantidadeDePessoas" placeholder="Pessoas"></td>
	</tr>
	
	<tr>
		<td><input type="number" id="porcentagem" placeholder="%"></td>
	</tr>
	
	<tr>
		<td><input type="text" id="resultado" placeholder="resultado" disabled></td>
	</tr>

	<tr>
		<td><button onClick="calcular()">Calcular</button></td>
	</tr>
</table>


<script type="text/javascript">



function obterValorDaConta() {

	var numeroDesformatado = document.getElementById('valorDaConta').value;
	var valorDaConta = numeroDesformatado.replace('R$ ', '').replace(',','.');

	var porcentagem = document.getElementById('porcentagem').value;
	var resultadoPorcentagem = (valorDaConta * porcentagem) / 100;
	var valorTotalDaConta = parseFloat(resultadoPorcentagem) + parseFloat(valorDaConta);
	
	return valorTotalDaConta;

}

function quantidadeDePessoas() {

	var pessoas = document.getElementById('quantidadeDePessoas').value;
	return parseFloat(pessoas);

}

function calcular(conta, pessoas) {

	var resultado = obterValorDaConta(conta) / quantidadeDePessoas(pessoas);
	exibirResultado(resultado);

}

function exibirResultado(resultado) {

	document.getElementById('resultado').value = 'R$ ' + resultado.toFixed(2);
 
}

</script>

</body>
</html>